const scrollingContainer=document.querySelector(".intro"),scrollingPath=anime.path(".intro__path"),scrollingElements=document.querySelectorAll(".intro__scrolling"),header=document.querySelector(".header"),planeAnimations=(scrollingElements.forEach((e,t,o)=>e.style.zIndex=o.length-t),anime({targets:Array.from(scrollingElements),translateX:scrollingPath("x"),translateY:scrollingPath("y"),rotate:scrollingPath("angle"),loop:!1,autoplay:!1,elasticity:700,duration:1400,easing:"easeInOutQuad",delay:anime.stagger(130)})),getScrollPosition=e=>{var t=window["innerHeight"],{top:e,height:o}=e.getBoundingClientRect();return Math.max(0,Math.min((t/2-e)/o,1))},questionsElement=document.querySelector(".questions"),elements=[{block:document.querySelector(".gray-bg"),bgStartColor:[255,255,255],bgEndColor:[149,166,178]},{block:document.querySelector(".black-bg"),bgStartColor:[149,166,178],bgEndColor:[36,36,36]},{block:document.querySelector(".third"),bgStartColor:[36,36,36],bgEndColor:[255,255,255]}],getScrollStep=e=>{var t=window["innerHeight"],e=e.getBoundingClientRect()["top"];return 100*Math.max(0,Math.min((t-e)/t,1))},calcColor=(e,t,o)=>{var[e,r,n]=e,[t,l,a]=t;return[e+Math.round((t-e)*o/100),r+Math.round((l-r)*o/100),n+Math.round((a-n)*o/100)]},setRootColor=(e,t,o)=>{document.body.style.setProperty("--main-bg-color",`rgb(${e}, ${t}, ${o})`)},onScroll=()=>{elements.forEach(e=>{var t=getScrollStep(e.block);1<t&&(e=calcColor(e.bgStartColor,e.bgEndColor,t),setRootColor(...e))});let e=getScrollPosition(scrollingContainer)*planeAnimations.duration;e=Number(e.toFixed()),planeAnimations.seek(e)},switchHeaderContainers=(window.addEventListener("scroll",()=>{let e=!1;e||(window.requestAnimationFrame(function(){onScroll(),e=!1}),e=!0)}),onScroll(),window.addEventListener("resize",()=>{onScroll()}),document.querySelectorAll(".dark")),observer=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting?header.classList.add("header--white"):header.classList.remove("header--white")})},{rootMargin:"0px 0px -50% 0px",threshold:0}),swiper=(switchHeaderContainers.forEach(e=>observer.observe(e)),new Swiper(".swiper",{slidesPerView:1,spaceBetween:24,autoHeight:!0,autoplay:!0,delay:3e3,loop:!0,pagination:{el:".swiper-pagination",type:"bullets",clickable:!0}}));