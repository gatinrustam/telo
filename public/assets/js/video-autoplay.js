var videoPlayers,parallaxer=function(i){function n(e){var t;return(o[e]||(t=o[e]={i:e,l:!1,exports:{}},i[e].call(t.exports,t,t.exports,n),t.l=!0,t)).exports}var o={};return n.m=i,n.c=o,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,i){i(1),e.exports=i(4)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t=i(2),i.n(t),t=i(3);i.n(t)},function(e,t){try{var i=new window.CustomEvent("test");if(i.preventDefault(),!0!==i.defaultPrevented)throw new Error("Could not prevent default")}catch(e){function n(e,t){var i,n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(i=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n=i.preventDefault,i.preventDefault=function(){n.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},i}n.prototype=window.Event.prototype,window.CustomEvent=n}},function(e,t,i){"use strict";"function"!=typeof Object.assign&&(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var t=1;t<arguments.length;t++){var i=arguments[t];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(5),i=(t.dispatchRepainEvent=n.dispatch,i(7));t.PositionCalculator=i.default,setTimeout(n.default,1e3)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(){a.scrollY=r.pageYOffset,a.windowWidth=r.innerWidth,a.windowHeight=r.innerHeight,a.documentHeight=document.body.offsetHeight,a.isDimensionsChange=!0,t.dispatch(),a.isDimensionsChange=!1}var o=i(6),r=window,a={scrollY:0,isDimensionsChange:!1,windowWidth:0,windowHeight:0,documentHeight:0},s=new CustomEvent("repaint",{detail:{}});t.dispatch=function(){Object.assign(s.detail,a),r.dispatchEvent(s)};t.default=function(){n(),r.addEventListener("resize",n),r.addEventListener("orientationchange",n),r.addEventListener("scroll",function(){o.liteThrottle(function(){a.scrollY=r.pageYOffset,t.dispatch()})},!1)}},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=!1,r=!1,a=[[]];n.throttle=function(e,t,i){void 0===i&&(i=0),o?(r=!0,a[i]=void 0!==t?t:[]):(o=!0,e(t),setTimeout(function(){o=!1,r&&(r=!1,n.throttle(e,a[i]))},16))},n.liteThrottle=function(e){o?r=!0:(o=!0,e(),setTimeout(function(){o=!1,r&&(r=!1,n.liteThrottle(e))},16))}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(8);function n(e,t,i){this.root=e,this.from=t,this.to=i,this.shouldInit=!0}n.prototype.getPosition=function(e){var t=this,i=[this.scrollStart,this.scrollEnd],n=i[0],i=i[1],o=e.scrollY;return(this.shouldInit||e.isDimensionsChange)&&(this.update(e),this.shouldInit=!0,0!==this.scrollLength)&&setTimeout(function(){t.shouldInit=!1},1e3),o<=n?0:i<=o?1:(o-n)/this.scrollLength},n.prototype.calcDefaultPosition=function(e){var t=e.scrollY,e=e.windowHeight,i=this.root,n=i.getBoundingClientRect(),i=o.default(getComputedStyle(i).transform.slice(0,-1).split(",")[5]);this.height=n.height,this.topEdgeDefaultPosition=t+n.top-i,this.bottomEdgeDefaultPosition=t+n.bottom-e+i},n.prototype.getEdgeOffset=function(e,t){var i=e[0],e=e[1],e=this.height*e+i;return(e=t<e?t:e)<0?0:e},n.prototype.parseConfig=function(e){var t=[0,0],i="top"===e[0];return t[0]=i?this.topEdgeDefaultPosition:this.bottomEdgeDefaultPosition,t[1]=i?e[1]:-e[1],t},n.prototype.update=function(e){this.calcDefaultPosition(e),this.scrollStart=this.getEdgeOffset(this.parseConfig(this.from),e.documentHeight),this.scrollEnd=this.getEdgeOffset(this.parseConfig(this.to),e.documentHeight),this.scrollLength=this.scrollEnd-this.scrollStart},t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(e=Number(e))==e?e:0}}]),makeVideoPlayableInline=function(){"use strict";function r(t){function i(e){n=requestAnimationFrame(i),t(e-(o||e)),o=e}var n,o;this.start=function(){n||i(0)},this.stop=function(){cancelAnimationFrame(n),n=null,o=0}}function o(t,e,i,n){function o(e){Boolean(t[i])===Boolean(n)&&e.stopImmediatePropagation(),delete t[i]}t.addEventListener(e,o,!1)}function a(e,t,i,n){function o(e){i[t]=e}n&&o(e[t]),Object.defineProperty(e,t,{get:function(){return i[t]},set:o})}function s(e,t,i){i.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function d(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function u(e,t,i){(n||0)+200<Date.now()&&(e[y]=!0,n=Date.now()),i||(e.currentTime=t),b[++w%3]=100*t|0}function l(e){return e.driver.currentTime>=e.video.duration}function c(){var e=this,t=e[h];return e.webkitDisplayingFullscreen?void e[m]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(u(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(d(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&d(e,"playing")))))}function p(e){var t=this,i=t[h];i.driver.pause(),i.updater.stop(),t.webkitDisplayingFullscreen&&t[g](),i.paused&&!e||(i.paused=!0,i.hasAudio||d(t,"pause"),t.ended&&(t[y]=!0,d(t,"ended")))}function f(t,e){var i,n,o=t[h]={paused:!0};o.hasAudio=e,o.video=t,o.updater=new r(function(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&l(t)&&(t.driver.currentTime=0)),u(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[y],t.video.pause(!0))}.bind(o)),e?o.driver=(i=t,n=new Audio,s(i,"play",n),s(i,"playing",n),s(i,"pause",n),n.crossOrigin=i.crossOrigin,n.src=i.src||i.currentSrc||"data:",n):(t.addEventListener("canplay",function(){t.paused||d(t,"playing")}),o.driver={src:t.src||t.currentSrc||"data:",muted:!0,paused:!0,pause:function(){o.driver.paused=!0},play:function(){o.driver.paused=!1,l(o)&&u(t,0)},get ended(){return l(o)}}),t.addEventListener("emptied",function(){var e=!o.driver.src||"data:"===o.driver.src;o.driver.src&&o.driver.src!==t.src&&(u(t,0,!0),o.driver.src=t.src,e?o.driver.play():o.updater.stop())},!1),t.addEventListener("webkitbeginfullscreen",function(){t.paused?e&&!o.driver.buffered.length&&o.driver.load():(t.pause(),t[m]())}),e&&(t.addEventListener("webkitendfullscreen",function(){o.driver.currentTime=t.currentTime}),t.addEventListener("seeking",function(){b.indexOf(100*t.currentTime|0)<0&&(o.driver.currentTime=t.currentTime)}))}function e(e,t,i){var n;void 0===t&&(t=!0),(i=void 0===i?!0:i)&&!v||e[h]||(f(e,t),n=(i=e)[h],i[m]=i.play,i[g]=i.pause,i.play=c,i.pause=p,a(i,"paused",n.driver),a(i,"muted",n.driver,!0),a(i,"playbackRate",n.driver,!0),a(i,"ended",n.driver),a(i,"loop",n.driver,!0),o(i,"seeking"),o(i,"seeked"),o(i,"timeupdate",y,!1),o(i,"ended",y,!1),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),"MacIntel"!==navigator.platform&&"Windows"!==navigator.platform)||console.warn("iphone-inline-video is not guaranteed to work in emulated environments")}var n,t="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol,v=/iPhone|iPod/i.test(navigator.userAgent)&&void 0===document.head.style.grid,h=t(),y=t(),m=t("nativeplay"),g=t("nativepause"),b=[],w=0;return e.isWhitelisted=v,e}();!function(){var e=document,t=e.createElement("style");t.innerHTML=".IIV::-webkit-media-controls-play-button,.IIV::-webkit-media-controls-start-playback-button{opacity:0;pointer-events:none;width: 5px;}",e.head.appendChild(t)}(),setTimeout(function(){e.prototype.prepareVideo=function(){var e=this.video;e.pause(),e.muted=!0,e.autoplay=!1,e.loop=!1,void 0!==e.webkitPlaysInline&&(e.webkitPlaysInline=!0),void 0!==e.playsInline&&(e.playsInline=!0),makeVideoPlayableInline(e)},e.prototype.play=function(){!this.isPaused||!this.loop&&this.ended||(this.block(this.pauseBefore),this.video.play(),this.isPaused=!1)},e.prototype.pause=function(){this.isPaused||(this.video.pause(),this.isPaused=!0)},e.prototype.block=function(e){var t=this;0<e&&!this.isBlocked&&(this.video.playbackRate=0,clearInterval(this.blockId),this.blockId=setTimeout(function(){t.video.playbackRate=1,t.blockId=-1,this.ended||t.video.play()},1e3*e))};var i=e;function e(e){var t=this,i=(this.video=e,this.isPaused=!0,this.isBlocked=!1,this.blockId=-1,this.ended=!1,this.pauseBefore=0,this.pauseAfter=0,this.loop=!0,this.autoplay=!0,this.prepareVideo(),this.video.addEventListener("ended",function(){t.isPaused=!0,t.block(t.pauseAfter),t.ended=!0,t.loop&&(t.play(),t.ended=!1)}),new parallaxer.PositionCalculator(e,["bottom",.5],["top",.5]));this.shouldPlay=function(e){e=i.getPosition(e.detail);return 0<e&&e<1},window.addEventListener("repaint",function(e){e.details,t.autoplay&&(t.shouldPlay(e)?t.play():t.pause())})}(videoPlayers=[].map.call(document.querySelectorAll("video"),function(e){var t=e.classList,e=new i(e);return e.pauseAfter=0,t.contains("noautoplay")&&(e.autoplay=!1),t.contains("noloop")&&(e.loop=!1),t.contains("initial-play")&&e.play(),e}))[0].pauseAfter=0},1e3);